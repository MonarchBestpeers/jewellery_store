<!-- app/views/users/edit.html.erb -->

<div class="user-profile">
  <h1>Edit Profile</h1>

  <%= form_for @user, html: { class: 'form' } do |f| %>

    <div class="form-group">
      <%= f.label :name %>
      <%= f.text_field :name, class: 'form-control', required: true %>
    </div>

    <div class="form-group">
      <%= f.label :age %>
      <%= f.number_field :age, class: 'form-control', required: true %>
    </div>

    <div class="form-group">
      <%= f.label :email %>
      <%= f.email_field :email, class: 'form-control', required: true %>
    </div>

    <div class="form-group">
      <%= f.label :password, 'New Password' %>
      <%= f.password_field :password, class: 'form-control', required: true %>
    </div>

    <div class="form-group">
      <%= f.label :password_confirmation, 'Confirm Password' %>
      <%= f.password_field :password_confirmation, class: 'form-control', required: true %>
    </div>

    <div class="form-group">
      <%= f.label :avatar, 'Profile Photo' %>
      <%= f.file_field :avatar, class: 'form-control-file' %>
      <% if @user.avatar.attached? %>
        <%= image_tag @user.avatar, class: 'avatar-preview' %>
      <% else %>
        <p>No profile photo available.</p>
      <% end %>
    </div>

     <div class="form-group">
      <%= f.label :country %>
      <%= f.select :country, @countries.map { |country| [country['name'], country['name']] }, { include_blank: 'Select Country' }, class: 'form-control', required: true %>
    </div>

    <div class="form-group">
      <%= f.submit 'Update Profile', class: 'btn btn-primary' %>
    </div>
  <% end %>

  <%= link_to 'Back to Profile', user_path(@user), class: 'btn user_btn btn-secondary' %>
</div>
